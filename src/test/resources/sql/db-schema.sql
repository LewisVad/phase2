CREATE SCHEMA PHASE2;

CREATE TABLE PHASE2.PERSONS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,FIRST_NAME VARCHAR,LAST_NAME VARCHAR,GENDER CHAR,
                         PICTURE VARCHAR,EMAIL VARCHAR,DATE_OF_BIRTH date,ADDRESS_ID INT);

CREATE TABLE PHASE2.STUDENTS (PERSON_ID INT NOT NULL,GROUP_ID INT,LIBRARY_MEMBERSHIP_ID INT);

CREATE TABLE PHASE2.ADDRESSES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,CITY VARCHAR,COUNTRY VARCHAR,ADDRESS VARCHAR);

CREATE TABLE PHASE2.GROUPS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,NAME VARCHAR);
INSERT INTO phase2.groups (name) VALUES ('MI44Z');

CREATE TABLE PHASE2.PHONES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,VALUE VARCHAR,TYPE_ID INT);

CREATE TABLE PHASE2.PHONE_TYPES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,TYPE_NAME VARCHAR);

CREATE TABLE PHASE2.PERSONS_TO_PHONES (PERSON_ID INT NOT NULL,PHONE_ID INT);

CREATE TABLE PHASE2.TEACHERS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,SALARY NUMERIC);

CREATE TABLE PHASE2.COURSES (ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,TITLE VARCHAR,TEACHER_ID INT);

CREATE TABLE PHASE2.LIBRARY_MEMBERSHIPS (ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,START_DATE date,END_DATE date,STATUS VARCHAR);